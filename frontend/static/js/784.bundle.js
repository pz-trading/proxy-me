"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[784],{2784:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var r=n(7294),l=n(9250),a=n(52),o=n(2861),i=n(7957),u=n(948),c=n(7896),s=n(6089),m=n(5725),d=n(6914),f=n(4680),p=n(9573),v=n(6011),g=n(3694),b=n(6926),y=n(8732),E=n(6867),h=n(4776),Z=n(9647),S=n(3720),w=n(4386),P=n(2658),C=n(2440),x=n(799),O=n(5116),j=n(4212),A=n(6446),_=n(7666),k=n(243),D=n(1275),N=n(594);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,o,i=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){c=!0,l=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}var W=(0,r.forwardRef)((function(e,t){return r.createElement(h.Z,U({direction:"up",ref:t},e))}));const F=function(e){var t=e.open,n=e.dialogHandleClose,l=e.dialogHandleSave,a=e.dialogHandleDelete,o=e.rowData,i=e.groupData,u=z((0,r.useState)({}),2),c=u[0],m=u[1],f=z((0,r.useState)(""),2),p=f[0],v=f[1],g=z((0,r.useState)(""),2),b=g[0],y=g[1],h=z((0,r.useState)(""),2),I=h[0],T=h[1];(0,r.useEffect)((function(){var e;m({id:(null==o?void 0:o.id)||null,url:(null==o?void 0:o.url)||"",ip:(null==o?void 0:o.ip)||"",port:(null==o?void 0:o.port)||"",department:(null==o||null===(e=o.department)||void 0===e?void 0:e.department)||"",department_id:(null==o?void 0:o.department_id)||"",mode:(null==o?void 0:o.mode)||"",status:(null==o?void 0:o.status)||!1})}),[o]);var R=function(e){var t=e.target,n=t.name,r=t.value;m((function(e){return H(H({},e),{},M({},n,r))}))},U=function(e){var t="",n="",r="";for(var l in e)"url"==e[l].field&&(t+=" ".concat(e[l].error_message)),"ip"==e[l].field&&(n+=" ".concat(e[l].error_message)),"port"==e[l].field&&(r+=" ".concat(e[l].error_message));v(t),y(n),T(r)};return r.createElement(Z.Z,{fullScreen:!0,open:t,onClose:n,TransitionComponent:W},r.createElement(S.Z,{sx:{position:"relative",backgroundColor:"#00755f"}},r.createElement(w.Z,null,r.createElement(E.Z,{edge:"start",color:"inherit",onClick:n,"aria-label":"close"},r.createElement(N.Z,null)),r.createElement(P.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div"},o?"Edit Proxy Configuration":"Add New Proxy"),o?r.createElement(d.Z,{autoFocus:!0,color:"inherit",onClick:function(){return a(c)}},"Delete"):null)),r.createElement(s.Z,{maxWidth:"sm",style:{height:"100vh",display:"flex",justifyContent:"center",marginTop:50}},r.createElement(C.Z,{sx:{height:"100vh",display:"grid",width:600,maxWidth:"sm",bgcolor:"background.paper",alignContent:"baseline"}},r.createElement(x.ZP,null,r.createElement(O.Z,{id:"outlined-basic",label:"URL",variant:"outlined",name:"url",value:null==c?void 0:c.url,error:!!p,fullWidth:!0,onChange:R})),p&&r.createElement(x.ZP,null,r.createElement(P.Z,{variant:"subtitle2",color:"error",sx:{width:"100%"}},p)),r.createElement(x.ZP,null,r.createElement(O.Z,{id:"outlined-basic",label:"IP",variant:"outlined",name:"ip",value:null==c?void 0:c.ip,error:!!b,onChange:R,sx:{width:"70%"}})," :",r.createElement(O.Z,{id:"outlined-basic",label:"Port",variant:"outlined",name:"port",value:null==c?void 0:c.port,error:!!I,sx:{width:"30%"},onChange:R})),(b||I)&&r.createElement(x.ZP,null,r.createElement(P.Z,{variant:"subtitle2",color:"error",sx:{width:"100%"}},b,I)),o?r.createElement(x.ZP,null,r.createElement(j.Z,{onChange:function(){var e=event.target,t=e.name,n=e.checked;m((function(e){return H(H({},e),{},M({},t,n))}))},checked:(null==c?void 0:c.status)||!1,name:"status",sx:{"& .MuiSvgIcon-root":{fontSize:28}}})," Status Active"):null,r.createElement(x.ZP,null,r.createElement(A.Z,{fullWidth:!0},r.createElement(_.Z,{id:"department-label"},"Department"),r.createElement(k.Z,{labelId:"department-label",id:"department_id",name:"department_id",value:null==c?void 0:c.department_id,label:"Department",onChange:R},i.map((function(e){return r.createElement(D.Z,{key:e.id,value:e.id},e.department)}))))),r.createElement(x.ZP,null,r.createElement(O.Z,{id:"outlined-basic",label:"Mode",variant:"outlined",name:"mode",value:null==c?void 0:c.mode,onChange:R,sx:{width:"100%"}})),r.createElement(x.ZP,{sx:{display:"block",marginTop:"50px",textAlign:"right"}},r.createElement(d.Z,{autoFocus:!0,variant:"contained",onClick:function(){return l(c,U)}},"save")))))};function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,o,i=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){c=!0,l=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=(0,u.ZP)(c.Z)({width:"100%","& .sCell":{width:"0 auto"}});const B=function(){var e=L((0,r.useState)({}),2),t=e[0],n=e[1],u=L((0,r.useState)(!1),2),c=u[0],h=u[1],Z=L((0,r.useState)([]),2),S=Z[0],w=Z[1],P=L((0,r.useState)([]),2),C=P[0],x=P[1],O=(0,r.useContext)(a.S),j=O.accountProfile,A=O.setAccountProfile,_=L((0,r.useState)(!1),2),k=_[0],D=_[1],N=L((0,r.useState)(!1),2),I=N[0],T=N[1],H=(0,l.s0)();(0,r.useEffect)((function(){j.initialize&&(j.is_logged_in||H("/login"))}),[j]),(0,r.useEffect)((function(){j.initialize&&j.is_logged_in&&(o.Z.get("/be-api/get-config/",{withCredentials:!0}).then((function(e){w(e.data.rows)})).catch((function(e){})),o.Z.get("/be-api/get-groups/").then((function(e){x(e.data.rows)})))}),[j,I]);var M=function(e){D(arguments.length>1&&void 0!==arguments[1]&&arguments[1]),n(e),h(!0)};return r.createElement(s.Z,{sx:{width:"90%",margin:"50px auto"}},r.createElement(m.ZP,{container:!0,spacing:2},r.createElement(m.ZP,{item:!0,xs:8},r.createElement("h1",null,"Proxy")),r.createElement(m.ZP,{item:!0,xs:4,sx:{textAlign:"right"}},r.createElement(d.Z,{variant:"contained",onClick:function(){return M(null)}},"Add New")),r.createElement(m.ZP,{item:!0,xs:12},r.createElement(q,{component:f.Z},r.createElement(p.Z,{sx:{minWidth:650}},r.createElement(v.Z,null,r.createElement(g.Z,null,r.createElement(b.Z,{className:"sCell"}),r.createElement(b.Z,{className:"sCell"},"ID"),r.createElement(b.Z,{className:"sCell"},"URL"),r.createElement(b.Z,{className:"sCell"},"IP"),r.createElement(b.Z,{className:"sCell"},"PORT"),r.createElement(b.Z,{className:"sCell"},"DEPARTMENT"),r.createElement(b.Z,{className:"sCell"},"MODE"),r.createElement(b.Z,{className:"sCell"},"STATUS"))),r.createElement(y.Z,null,null==S?void 0:S.map((function(e){return r.createElement(g.Z,{key:e.id},r.createElement(b.Z,null,r.createElement(E.Z,{onClick:function(){return M(e,!0)}},r.createElement(i.Z,null))),r.createElement(b.Z,null,e.id),r.createElement(b.Z,null,e.url),r.createElement(b.Z,null,e.ip),r.createElement(b.Z,null,e.port),r.createElement(b.Z,null,e.department.department),r.createElement(b.Z,null,e.mode),r.createElement(b.Z,null,e.status?"Active":"Not-active"))}))))))),r.createElement(F,{open:c,dialogHandleClose:function(){h(!1)},dialogHandleSave:function(e,t){e.for_update=k,o.Z.post("/be-api/save-proxy-configuration",e).then((function(e){h(!1),T(!I)})).catch((function(e){401===e.response.status&&(A({email:"",access_level:0,is_logged_in:!1,initialize:!0}),H("/login")),t(e.response.data.errors)}))},dialogHandleDelete:function(e,t){o.Z.post("/be-api/delete-proxy-configuration",e).then((function(e){h(!1),T(!I)})).catch((function(e){401===e.response.status&&(A({email:"",access_level:0,is_logged_in:!1,initialize:!0}),H("/login")),t(e.response.data.errors)}))},rowData:t,groupData:C}))}}}]);
//# sourceMappingURL=784.bundle.js.map