"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[88],{1275:(e,t,n)=>{n.d(t,{Z:()=>S});var r=n(3366),a=n(7462),i=n(7294),o=n(6010),l=n(4780),c=n(1796),s=n(948),u=n(1657),d=n(9773),m=n(9438),p=n(8974),f=n(1705),b=n(1588);const v=(0,b.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const g=(0,b.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);var y=n(6336),h=n(4867);function Z(e){return(0,h.Z)("MuiMenuItem",e)}const E=(0,b.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var C=n(5893);const O=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],w=(0,s.ZP)(m.Z,{shouldForwardProp:e=>(0,s.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((({theme:e,ownerState:t})=>(0,a.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${E.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${E.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${E.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${E.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${E.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${v.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${v.inset}`]:{marginLeft:52},[`& .${y.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${y.Z.inset}`]:{paddingLeft:36},[`& .${g.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,a.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${g.root} svg`]:{fontSize:"1.25rem"}})))),S=i.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:c=!1,component:s="li",dense:m=!1,divider:b=!1,disableGutters:v=!1,focusVisibleClassName:g,role:y="menuitem",tabIndex:h,className:E}=n,S=(0,r.Z)(n,O),x=i.useContext(d.Z),j=i.useMemo((()=>({dense:m||x.dense||!1,disableGutters:v})),[x.dense,m,v]),_=i.useRef(null);(0,p.Z)((()=>{c&&_.current&&_.current.focus()}),[c]);const P=(0,a.Z)({},n,{dense:j.dense,divider:b,disableGutters:v}),k=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:c}=e,s={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},u=(0,l.Z)(s,Z,c);return(0,a.Z)({},c,u)})(n),$=(0,f.Z)(_,t);let A;return n.disabled||(A=void 0!==h?h:-1),(0,C.jsx)(d.Z.Provider,{value:j,children:(0,C.jsx)(w,(0,a.Z)({ref:$,role:y,tabIndex:A,component:s,focusVisibleClassName:(0,o.Z)(k.focusVisible,g),className:(0,o.Z)(k.root,E)},S,{ownerState:P,classes:k}))})}))},7088:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var r=n(7294),a=n(9250),i=n(52),o=n(2861),l=n(7957),c=n(948),s=n(7896),u=n(6089),d=n(5725),m=n(6914),p=n(4680),f=n(9573),b=n(6011),v=n(3694),g=n(6926),y=n(8732),h=n(6867),Z=n(4776),E=n(9647),C=n(3720),O=n(4386),w=n(2658),S=n(2440),x=n(799),j=n(5116),_=n(6446),P=n(7666),k=n(243),$=n(1275),A=n(594);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}var H=(0,r.forwardRef)((function(e,t){return r.createElement(Z.Z,L({direction:"up",ref:t},e))}));const V=function(e){var t=e.open,n=e.dialogHandleClose,a=e.dialogHandleSave,i=e.dialogHandleDelete,o=e.rowData,l=e.membersList,c=F((0,r.useState)({}),2),s=c[0],d=c[1],p=F((0,r.useState)(""),2),f=p[0],b=p[1],v=F((0,r.useState)(""),2),g=(v[0],v[1]);(0,r.useEffect)((function(){d({id:(null==o?void 0:o.id)||null,sim_number:(null==o?void 0:o.sim_number)||"",status:(null==o?void 0:o.status)||!1,member_id:(null==o?void 0:o.member_id)||!1})}),[o]);var y=function(e){var t=e.target,n=t.name,r=t.value;d((function(e){return M(M({},e),{},D({},n,r))}))},Z=function(e){for(var t in e)"sim_number"==e[t].field&&(url_str_error+=" ".concat(e[t].error_message)),"email"==e[t].field&&(ip_str_error+=" ".concat(e[t].error_message));b(""),g("")};return r.createElement(E.Z,{fullScreen:!0,open:t,onClose:n,TransitionComponent:H},r.createElement(C.Z,{sx:{position:"relative",backgroundColor:"#00755f"}},r.createElement(O.Z,null,r.createElement(h.Z,{edge:"start",color:"inherit",onClick:n,"aria-label":"close"},r.createElement(A.Z,null)),r.createElement(w.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div"},o?"Edit Member's Contact Number":"Add New Contact Number"),o?r.createElement(m.Z,{autoFocus:!0,color:"inherit",onClick:function(){return i(s)}},"Delete"):null)),r.createElement(u.Z,{maxWidth:"sm",style:{height:"100vh",display:"flex",justifyContent:"center",marginTop:50}},r.createElement(S.Z,{sx:{height:"100vh",display:"grid",width:600,maxWidth:"sm",bgcolor:"background.paper",alignContent:"baseline"}},r.createElement(x.ZP,null,r.createElement(j.Z,{id:"outlined-basic",label:"SIM Number",variant:"outlined",name:"sim_number",value:null==s?void 0:s.sim_number,error:!!f,fullWidth:!0,onChange:y})),f&&r.createElement(x.ZP,null,r.createElement(w.Z,{variant:"subtitle2",color:"error",sx:{width:"100%"}},urlErrorString)),r.createElement(x.ZP,null,r.createElement(_.Z,{fullWidth:!0},r.createElement(P.Z,{id:"department-label"},"Email"),r.createElement(k.Z,{labelId:"department-label",id:"member_id",name:"member_id",value:(null==s?void 0:s.member_id)||"",label:"Email",onChange:y},l.map((function(e){return r.createElement($.Z,{key:e.id,value:e.id},e.email)}))))),r.createElement(x.ZP,{sx:{display:"block",marginTop:"50px",textAlign:"right"}},r.createElement(m.Z,{autoFocus:!0,variant:"contained",onClick:function(){return a(s,Z)}},"save")))))};function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=(0,c.ZP)(s.Z)({width:"100%","& .sCell":{width:"0 auto"}});const z=function(){var e=G((0,r.useState)({}),2),t=e[0],n=e[1],c=G((0,r.useState)(!1),2),s=c[0],Z=c[1],E=G((0,r.useState)([]),2),C=E[0],O=E[1],w=G((0,r.useState)([]),2),S=w[0],x=w[1],j=(0,r.useContext)(i.S),_=j.accountProfile,P=j.setAccountProfile,k=G((0,r.useState)(!1),2),$=k[0],A=k[1],I=G((0,r.useState)(!1),2),N=I[0],M=I[1],D=(0,a.s0)();(0,r.useEffect)((function(){_.initialize&&(_.is_logged_in||D("/login"))}),[_]),(0,r.useEffect)((function(){_.initialize&&_.is_logged_in&&(o.Z.get("/be-api/get-contacts/",{withCredentials:!0}).then((function(e){O(e.data.rows)})).catch((function(e){})),o.Z.get("/be-api/get-member/").then((function(e){x(e.data.rows)})))}),[_,N]);var F=function(e){A(arguments.length>1&&void 0!==arguments[1]&&arguments[1]),n(e),Z(!0)};return r.createElement(u.Z,{sx:{width:"90%",margin:"50px auto"}},r.createElement(d.ZP,{container:!0,spacing:2},r.createElement(d.ZP,{item:!0,xs:8},r.createElement("h1",null,"Contact Number")),r.createElement(d.ZP,{item:!0,xs:4,sx:{textAlign:"right"}},r.createElement(m.Z,{variant:"contained",onClick:function(){return F(null)}},"Add New")),r.createElement(d.ZP,{item:!0,xs:12},r.createElement(W,{component:p.Z},r.createElement(f.Z,{sx:{minWidth:650}},r.createElement(b.Z,null,r.createElement(v.Z,null,r.createElement(g.Z,{className:"sCell"}),r.createElement(g.Z,{className:"sCell"},"CONTACT NO."),r.createElement(g.Z,{className:"sCell"},"FULLNAME"),r.createElement(g.Z,{className:"sCell"},"EMAIL"))),r.createElement(y.Z,null,null==C?void 0:C.map((function(e){var t,n;return r.createElement(v.Z,{key:e.id},r.createElement(g.Z,null,r.createElement(h.Z,{onClick:function(){return F(e,!0)}},r.createElement(l.Z,null))),r.createElement(g.Z,null,e.sim_number),r.createElement(g.Z,null,null===(t=e.member)||void 0===t?void 0:t.fullname),r.createElement(g.Z,null,null===(n=e.member)||void 0===n?void 0:n.email))}))))))),r.createElement(V,{open:s,dialogHandleClose:function(){Z(!1)},dialogHandleSave:function(e,t){e.for_update=$,o.Z.post("/be-api/save-contacts/",e).then((function(e){Z(!1),M(!N)})).catch((function(e){401===e.response.status&&(P({email:"",access_level:0,is_logged_in:!1,initialize:!0}),D("/login")),t(e.response.data.errors)}))},dialogHandleDelete:function(e,t){o.Z.post("/be-api/delete-contacts/",e).then((function(e){Z(!1),M(!N)})).catch((function(e){401===e.response.status&&(P({email:"",access_level:0,is_logged_in:!1,initialize:!0}),D("/login")),t(e.response.data.errors)}))},rowData:t,membersList:S}))}}}]);
//# sourceMappingURL=88.bundle.js.map